{"version":3,"file":"static/js/5.330c3c99.chunk.js","mappings":"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","sources":["components/errorBoundary/ErrorBoundary.jsx","components/comicsList/ComicsList.jsx","components/pages/ComicsPage.jsx"],"sourcesContent":["import { Component } from \"react\";\r\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\r\n\r\nclass ErrorBoundary extends Component {\r\n    state = {\r\n        error: false\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        console.log(error, errorInfo);\r\n        this.setState({\r\n            error: true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.error) {\r\n            return <ErrorMessage/>\r\n        }\r\n\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;","import { useState, useEffect } from \"react\";\nimport useMarvelService from \"../../services/MarvelService\";\nimport { Link } from \"react-router-dom\";\nimport Spinner from \"../spinner/Spinner\";\nimport setContent from \"../../utils/setContent\";\nimport \"./comicsList.scss\";\n\nconst ComicsList = () => {\n  const [comicsList, setComicsList] = useState([]);\n  const [newItemLoading, setNewItemLoading] = useState(false);\n  const [offset, setOffset] = useState(60);\n  const [firstLoading, setFirstLoading] = useState(false);\n  const [endComics, setEndComics] = useState(false);\n\n  const { getAllComics, proc, setProcess } = useMarvelService();\n\n  useEffect(() => onRequest(offset, true), []);\n\n  const onRequest = (offset, initial) => {\n    initial ? setFirstLoading(false) : setFirstLoading(true);\n    getAllComics(offset)\n      .then(onComicsListLoaded)\n      .then(() => setProcess(\"confirmed\"));\n  };\n\n  const onComicsListLoading = () => {\n    setNewItemLoading(true);\n  };\n\n  const onComicsListLoaded = (newComicsList) => {\n    let ended = newComicsList.length < 8 ? true : false;\n    setComicsList((comicsList) => [...comicsList, ...newComicsList]);\n    setFirstLoading(false);\n    setNewItemLoading(false);\n    setOffset((offset) => offset + 8);\n    setEndComics(ended);\n  };\n\n  const renderItems = (arr) => {\n    const items = arr.map((item, i) => {\n      return (\n        <li className=\"comics__item\" key={i}>\n          <Link to={`/comics/${item.id}`}>\n            <img\n              src={item.thumbnail}\n              alt=\"ultimate war\"\n              className=\"comics__item-img\"\n            />\n            <div className=\"comics__item-name\">{item.title}</div>\n            <div className=\"comics__item-price\">{item.price}</div>\n          </Link>\n        </li>\n      );\n    });\n\n    return <ul className=\"comics__grid\">{items}</ul>;\n  };\n  const elements = setContent(\n        proc,\n        () => renderItems(comicsList),\n        \"list\",\n        {},\n        firstLoading\n  );\n\n  const buttonSpinner = newItemLoading ? (\n    <Spinner />\n  ) : (\n    <button\n      className=\"button button__main button__long\"\n      disabled={newItemLoading}\n      style={{ display: endComics ? \"none\" : \"block\" }}\n      onClick={() => {\n        onComicsListLoading();\n        onRequest(offset);\n      }}\n    >\n      <div className=\"inner\">load more</div>\n    </button>\n  );\n\n  return (\n    <div className=\"comics__list\">\n      {elements}\n      {buttonSpinner}\n    </div>\n  );\n};\n\nexport default ComicsList;\n","import { Helmet } from 'react-helmet';\r\nimport ErrorBoundary from \"../errorBoundary/ErrorBoundary\";\r\nimport AppBanner  from \"../appBanner/AppBanner\";\r\nimport ComicsList  from \"../comicsList/ComicsList\";\r\n\r\n\r\nconst ComicsPage = () => {\r\n\r\n    return (\r\n            <>\r\n               <Helmet>\r\n                 <meta name=\"description\" content=\"Page with list of our comics\" />\r\n                 <title>Comics page</title>\r\n               </Helmet>\r\n               <ErrorBoundary>\r\n                  <AppBanner/>\r\n               </ErrorBoundary>\r\n\r\n               <ErrorBoundary>\r\n                  <ComicsList/>\r\n               </ErrorBoundary>\r\n            </>\r\n    );\r\n};\r\n\r\nexport default ComicsPage;\r\n"],"names":["ErrorBoundary","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","error","_createClass","key","value","errorInfo","console","log","this","setState","_jsx","ErrorMessage","props","children","Component","_useState","useState","_useState2","_slicedToArray","comicsList","setComicsList","_useState3","_useState4","newItemLoading","setNewItemLoading","_useState5","_useState6","offset","setOffset","_useState7","_useState8","firstLoading","setFirstLoading","_useState9","_useState10","endComics","setEndComics","_useMarvelService","useMarvelService","getAllComics","proc","setProcess","useEffect","onRequest","initial","then","onComicsListLoaded","newComicsList","ended","_toConsumableArray","elements","setContent","arr","items","map","item","i","className","_jsxs","Link","to","id","src","thumbnail","alt","title","price","renderItems","buttonSpinner","Spinner","disabled","style","display","onClick","_Fragment","Helmet","name","content","AppBanner","ComicsList"],"sourceRoot":""}